<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
    //定义一个动物类 
    function Animal(name='人类'){
        this.name=name;
        this.showName=function(){
            console.log(this.name);
        }
    };
    // Animal.prototype={
    //     showName:function(){
    //         console.log(this.name);
    //     }
    // };
    // var animal=new Animal();
    // animal.showName();
    //定义许多子类 继承父类
    function Cat(name){
        Animal.call(this,name)
    };
    function Dog(name){
        Animal.call(this,name)
    };
    function Person(name){
        Animal.call(this,name)
    }
    var cat=new Cat('小猫');
    var dog=new Dog('小狗');
    var person=new Person();
    console.dir(Animal)
    cat.showName();
    dog.showName();
    person.showName();
    //以上 是通过传统的构造函数生成实例;接下来是使用es6实现构造 继承
    //定义类
    var toString='2'
    class Point {
        constructor (x,y){
            this.x=x;
            this.y=y;
        };
        ['toString'+toString] (){
            return '('+this.x+','+this.y+')';
        };
        sum(...value){
            return value.reduce((first,second)=>(first+second));
        }

    };
    var point=new Point(5,6);
    console.log(point.toString2());
    console.log(point.sum(1,2,3,4,5));
    //上面的 toString方法相当于 挂载在Point的原型下 等同于
    // Point.prototype={
    //     toString (){
    //         return '('+this.x+','+this.y+')';
    //     }
    // }
    //和传统的构造函数创建实例一样
    // Point.prototype.constructor==Point//true;
    // point.constructor==Point.prototype.constructor//true point 是Point的实例 point的constructor方法就是Point原型的constructor方法


    //this的指向
    // class Logger {
    //     printName(name='there'){
    //         this.print(`Hello ${name}`);
    //     }
    //     print(text){
    //         console.log(text);
    //     }
    // }
    // var logger=new Logger();
    // var {printName}=logger;

    // printName();//TypeError: Cannot read property 'print' of undefined
    class Logger {
        constructor() {
            this.printName = this.printName.bind(this);
            this.print = this.print.bind(this);
        }
        printName(name='there'){
            this.print(`Hello ${name}`);
        }
        print(text){
            console.log(text);
        }
    }
    var logger=new Logger();
    var {printName,print}=logger;
    printName();
    print(123123)
</script>
</html>